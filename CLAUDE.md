# AI活用アンケート分析ダッシュボード

## プロジェクト概要

観光ビッグデータ事業部のAIツール活用状況を分析・可視化するStreamlitダッシュボードアプリケーション。
3ヶ月間（2025年5月〜7月）のアンケートデータを基に、チーム別のAIツール利用傾向、生産性への貢献度、時間削減効果、課題などを総合的に分析します。

## アプリケーション構成

### ファイル構造
```
ai-usage-survey/
├── CLAUDE.md                    # このファイル（プロジェクト情報）
├── data/
│   ├── AI活用アンケートデータ.tsv  # 元データ（TSV形式）
│   └── processed/               # 処理済みデータ保存用
└── src/
    ├── config.py               # 設定・定数定義
    ├── data_processor.py       # データ処理モジュール
    └── dashboard.py            # メインダッシュボード
```

### 主要機能

#### 1. 概要タブ（📊）
- 調査の背景と目的
- 対象ツール・作業一覧
- 基本統計情報（回答数サマリー）
- 月別回答数グラフ

#### 2. 利用頻度・生産性分析タブ（📈）
- **指標カード**: 最も使用されたツール、最高貢献度ツール、総合スコア、最も改善したツール
- **時系列グラフ**: 月別利用頻度・貢献度推移
- **ヒートマップ**: 利用頻度×貢献度の組み合わせ分析
- **クロス集計表**: ツール別の5×5詳細分析
- 上流工程（ディレクターチーム）と開発工程（エンジニアリングチーム）で分離

#### 3. 時間削減効果タブ（⏱️）
- **指標カード**: 最高削減効果、最高改善作業、最低削減効果、最も悪化した作業
- **削減効果グラフ**: 作業別時間削減率（上流・開発工程別）
- **月別推移**: 5月→7月の削減効果変化
- **具体的事例**: アコーディオン形式で読みやすく表示

#### 4. 課題・フィードバックタブ（📝）
- **月別比較表**: 課題とトレーニングニーズの変化を5月→7月で比較
- **色分け表示**: 新規（青）、増加（オレンジ）、解消（緑）、減少（赤）
- **7月基準ソート**: 7月の件数が多い順に表示
- 上流工程・開発工程・トレーニングニーズの3セクション

### サイドバー機能
- **調査情報パネル**: 期間、回答数、対象ツール等の基本情報
- **ダッシュボードガイド**: 各タブの内容説明
- **データ解釈のヒント**: 指標の読み方と活用ポイント

## 技術仕様

### 使用技術
- **Python 3.11+**
- **Streamlit**: Webダッシュボードフレームワーク
- **Pandas**: データ処理・分析
- **Plotly**: インタラクティブグラフ作成
- **WordCloud**: ワードクラウド生成（現在は未使用）

### データ処理フロー
1. TSVファイル読み込み (`data_processor.py`)
2. 各指標の集計・変換（頻度、貢献度、時間削減効果）
3. 月別データの処理（課題・トレーニングニーズ）
4. 処理済みデータのキャッシュ
5. ダッシュボードでの可視化

### 主要クラス・関数

#### `AIUsageSurveyProcessor` (data_processor.py)
- `process_frequency_data()`: 利用頻度データの処理
- `process_contribution_data()`: 貢献度データの処理
- `process_time_reduction_data()`: 時間削減効果データの処理
- `process_challenges()`: 課題データの処理（月別分析含む）
- `process_training_needs()`: トレーニングニーズの処理

#### 可視化関数 (dashboard.py)
- `create_time_series_chart()`: 時系列グラフ作成
- `create_frequency_contribution_heatmap()`: ヒートマップ作成
- `create_frequency_contribution_cross_table()`: クロス集計表作成
- `create_monthly_comparison_table()`: 月別比較表作成
- `style_change_column()`: 変化列の色分けスタイル適用

## 実行方法

### 開発環境での起動
```bash
# プロジェクトルートディレクトリで実行
streamlit run src/dashboard.py --server.port 8501
```

### アクセス
- **ローカル**: http://localhost:8501
- **ネットワーク**: http://192.168.11.19:8501

## データ形式

### 入力データ（TSV）
- **ファイル**: `data/AI活用アンケートデータ.tsv`
- **エンコーディング**: UTF-8
- **区切り文字**: タブ
- **必須列**: タイムスタンプ、年月、チーム区分、各ツール評価列

### 処理済みデータ
- 各種指標別にCSVファイルとして保存
- キャッシュ機能により高速な再表示を実現

## カスタマイズ可能な設定

### config.py での設定項目
- `UPSTREAM_TOOLS`: 上流工程対象ツール一覧
- `DEVELOPMENT_TOOLS`: 開発工程対象ツール一覧
- `TOOL_DISPLAY_NAMES`: ツール表示名のマッピング
- `FREQUENCY_MAP`: 頻度評価のスコア変換
- `CONTRIBUTION_MAP`: 貢献度評価のスコア変換
- `TIME_REDUCTION_MAP`: 時間削減効果のスコア変換

## メンテナンス

### データ更新
1. 新しいTSVファイルを`data/`ディレクトリに配置
2. Streamlitキャッシュをクリア: `streamlit cache clear`
3. アプリケーションを再起動

### トラブルシューティング
- **データが表示されない**: キャッシュクリア後に再実行
- **エラーが発生**: ログを確認し、データ形式とパスを確認
- **レスポンスが遅い**: processed/フォルダの容量確認

## リポジトリ情報
- **GitHub**: https://github.com/dev-omotenashi/ai-usage-survey
- **組織**: dev-omotenashi
- **ブランチ**: main

## 今後の拡張予定
- 新規ツールの追加対応
- より詳細な統計分析機能
- エクスポート機能（PDF/Excel）
- アラート機能（異常値検出）